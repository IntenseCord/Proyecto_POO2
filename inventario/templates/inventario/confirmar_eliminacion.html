{% extends 'inventario/base_inventario.html' %} {% block breadcrumb %}
<ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="{% url 'dashboard:home' %}">Dashboard</a>
  </li>
  <li class="breadcrumb-item">
    <a href="{% url 'inventario:dashboard' %}">Inventario</a>
  </li>
  <li class="breadcrumb-item">
    <a href="{% url 'inventario:lista_productos' %}">Productos</a>
  </li>
  <li class="breadcrumb-item">
    <a href="{% url 'inventario:detalle_producto' producto.id %}"
      >{{ producto.nombre }}</a
    >
  </li>
  <li class="breadcrumb-item active">Confirmar Eliminación</li>
</ol>
{% endblock %} {% block page_title %}Confirmar Eliminación{% endblock %} {%
block page_actions %}
<a
  href="{% url 'inventario:detalle_producto' producto.id %}"
  class="btn btn-outline-secondary"
>
  <i class="fas fa-arrow-left"></i> Cancelar
</a>
{% endblock %} {% block inventario_content %}
<div class="row justify-content-center">
  <div class="col-lg-6">
    <div class="card shadow border-warning">
      <div class="card-header bg-warning text-dark py-3">
        <h6 class="m-0 font-weight-bold">
          <i class="fas fa-exclamation-triangle"></i> Confirmar Desactivación
        </h6>
      </div>
      <div class="card-body">
        <div class="alert alert-warning">
          <h5><i class="fas fa-info-circle"></i> Importante</h5>
          <p class="mb-0">
            Está a punto de <strong>desactivar</strong> el siguiente producto.
            El producto no será eliminado permanentemente, solo cambiará su
            estado a "Inactivo".
          </p>
        </div>

        <!-- Información del producto -->
        <div class="card bg-light mb-4">
          <div class="card-body">
            <h6 class="card-title">Producto a desactivar:</h6>
            <div class="row">
              <div class="col-md-6">
                <strong>Código:</strong> {{ producto.codigo }}<br />
                <strong>Nombre:</strong> {{ producto.nombre }}<br />
                <strong>Categoría:</strong>
                {% if producto.categoria %} {{ producto.categoria.nombre }} {%
                else %} Sin categoría {% endif %}
              </div>
              <div class="col-md-6">
                <strong>Stock actual:</strong> {{ producto.cantidad }}<br />
                <strong>Precio:</strong> ${{ producto.precio_unitario }}<br />
                <strong>Valor total:</strong> ${{
                producto.valor_total|floatformat:2 }}
              </div>
            </div>
          </div>
        </div>

        <div class="alert alert-info">
          <h6><i class="fas fa-lightbulb"></i> ¿Qué sucederá?</h6>
          <ul class="mb-0">
            <li>El producto cambiará su estado a "Inactivo"</li>
            <li>No aparecerá en las listas de productos activos</li>
            <li>Se mantendrá el historial de movimientos</li>
            <li>Podrá reactivarlo más tarde si es necesario</li>
          </ul>
        </div>

        <form method="post">
          {% csrf_token %}
          <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <a
              href="{% url 'inventario:detalle_producto' producto.id %}"
              class="btn btn-secondary me-md-2"
            >
              <i class="fas fa-times"></i> Cancelar
            </a>
            <button type="submit" class="btn btn-warning">
              <i class="fas fa-check"></i> Sí, Desactivar Producto
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
